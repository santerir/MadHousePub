/* 
 *  Copyright (c) 2023 Santtu Räisänen github.com/santerir
 *  
 *  This work is licensed under the terms of the MIT license.  
 *  For a copy, see <https://opensource.org/licenses/MIT>.
 */

.s2021 {
    .bckground {
        background-image: url("/img/s2021-bkgrnd.jpg");
        background-size: cover;
        background-position: initial;

        &.bckground-bttm {
            background-position: bottom;
        }
    }

    &.content-field {
        background-image: url("/img/s2021-bkgrnd.jpg");
        background-size: cover;
        background-position: center center;
    }

    &.article {
        background-image: url("/img/s2021-bkgrnd.jpg");
        background-size: cover;
        background-position: center center;
    }

    p {
        color: $brown;
    }

    .content {
        a {
            color: $red;
            text-decoration: none;
        }
    }
}

.jasenet {
    img {
        border: 1px solid black;
    }
}

.fluctuants {
    .container {
        margin: 0;
        position: relative;
        width: 100%;
        display: flex;
        flex-direction: column;

        .canvas {
            position: absolute;
            height: 100%;
            width: 90%;
            max-width: 800px;
            left: 50%;
            -webkit-transform: translateX(-50%);
            -moz-transform: translateX(-50%);
            -ms-transform: translateX(-50%);
            transform: translateX(-50%);
        }
    }

    .floatie-container {
        position: sticky;
        width: 100%;
    }

    .floatie {
        position: absolute;
        height: 0;
        width: 20em;
        max-width: 80vw;

        button {
            position: absolute;
            top: -20px;
            right: -20px;
            z-index: z("modal");
            transform: translate3d(0, 0, 0);
        }

        iframe {
            width: 20em;
            max-width: 80vw;
            max-height: calc(0.56 * 80vw);
            height: calc(0.56 * 20em);
            z-index: z("default");
        }
    }
}

.ekfrasiksesta {
    .orb-thing {
        font-size: 0.7em;
        color: black;
        text-align: center;

        .blue {
            color: $blue;
        }

        .teal {
            color: $teal;
        }

        .brown {
            color: $brown;
        }

        // label {
        //     width: 20px;
        //     height: 20px;
        //     position: relative;
        //     border-radius: 100%;
        //     top: 4px;
        //     margin: 0 10px 0 0;
        //     display: inline-block;

        //     &.blue {
        //         background-color: $blue;
        //         box-shadow: 3px 0px 6px $blue, -3px -0px 6px $blue, 0px 3px 6px $blue, 0px -3px 6px $blue;
        //     }
        //     &.brown {
        //         background-color: $brown;
        //         box-shadow: 3px 0px 6px $brown, -3px -0px 6px $brown, 0px 3px 6px $brown, 0px -3px 6px $brown;
        //     }
        //     &.teal {
        //         background-color: $teal;
        //         box-shadow: 3px 0px 6px $teal, -3px -0px 6px $teal, 0px 3px 6px $teal, 0px -3px 6px $teal;
        //     }
        // }
    }

    div.footnotes {
        margin-top: 50em !important;
        p {
            color: black;
        }
    }

    .hole_ {
        position: relative;

        height: 300px;

        @include respond-below("mb-l") {
            height: 150px;
        }

        svg {
            z-index: z("overlay");
            position: absolute;
            max-width: 100%;
        }

        &.hole_5 {
            &::before {
                mask-image: url(/img/holes/MHPhole1_1.svg);
            }

            svg {
                left: calc(50% + 0.5px);
                transform: translateX(-50%);
            }

            @include respond-below("mb-l") {
                &[data-w-p="2"],
                &[data-w-p="1"],
                &[data-w-p="0"] {
                    svg {
                        top: 0.5px;
                        left: calc(50% + 0.2px);
                        transform: translateX(-50%);
                    }
                }
            }
        }

        &.hole_6 {
            &::before {
                mask-image: url(/img/holes/MHPhole2_1.svg);
                mask-position: 33.33333%;
            }

            &[data-w-p="1"] {
                svg {
                    left: calc(33.3333% + 0px);
                    transform: translateX(-33.333%);
                }
            }

            &[data-w-p="2"] {
                svg {
                    left: calc(33.3333% + 0.3333px);
                    transform: translateX(-33.333%);
                }
            }

            svg {
                left: calc(33.3333% + 0.3333px);
                transform: translateX(-33.3333%);
            }

            @include respond-above("l") {
                svg {
                    left: calc(33.3333% + 0px);
                    transform: translateX(-33.3333%);
                }
            }

            @include respond-below("mb-l") {
                &[data-w-p="2"],
                &[data-w-p="1"],
                &[data-w-p="0"] {
                    svg {
                        top: 0.3px;
                        left: calc(33.3333% + 0.2px);
                        transform: translateX(-33.3333%);
                    }
                }
            }
        }

        &.hole_7 {
            &::before {
                mask-image: url(/img/holes/MHPhole3_1.svg);
                mask-position: 33.3333%;
            }

            &[data-w-p="1"] {
                svg {
                    left: calc(33.3333% + 0.6666px);
                    transform: translateX(-33.333%);
                }
            }

            &[data-w-p="2"] {
                svg {
                    left: calc(33.3333% + 0.6666px);
                    transform: translateX(-33.333%);
                }
            }

            svg {
                left: calc(33.3333% + 0.6666px);
                transform: translateX(-33.3333%);
            }

            @include respond-above("l") {
                svg {
                    left: calc(33.3333% + 0px);
                    transform: translateX(-33.3333%);
                }
            }

            @include respond-below("mb-l") {
                &[data-w-p="2"],
                &[data-w-p="1"],
                &[data-w-p="0"] {
                    svg {
                        top: 0.3px;
                        left: calc(33.3333% + 0.2px);
                        transform: translateX(-33.3333%);
                    }
                }
            }
        }

        &.hole_8 {
            &::before {
                mask-image: url(/img/holes/MHPhole4_1.svg);
            }

            svg {
                left: calc(50% + 0.5px);
                transform: translateX(-50%);
            }

            @include respond-below("mb-l") {
                &[data-w-p="2"],
                &[data-w-p="1"],
                &[data-w-p="0"] {
                    svg {
                        top: 0.2px;
                        left: calc(50%);
                        transform: translateX(-50%);
                    }
                }
            }
        }

        &::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;

            height: 300px;

            @include respond-below("mb-l") {
                height: 150px;
            }

            background-attachment: fixed;

            background-image: url("/img/s2021-bkgrnd.jpg");
            background-size: cover;
            background-position: center center;

            @supports (-webkit-touch-callout: none) {
                background-attachment: initial;
            }

            mask-size: contain;
            mask-repeat: no-repeat;
            mask-position: center;
        }
    }
}

.pains {
    .lightbox {
        position: fixed;
        background-color: rgba(0, 0, 0, 0.6);
        height: calc(100%);
        width: 100%;
        top: 0;
        left: 0;
        margin: 0 0 0 0 !important;
        z-index: z("modal");

        div {
            top: 50%;
            left: 50%;
            /* bring your own prefixes */
            transform: translate(-50%, -50%);

            position: absolute;

            iframe,
            img {
                max-height: 80vh;
                max-width: 80vw;
            }

            h1 {
                position: absolute;
                color: white;
                top: 50%;
                left: 50%;
                /* bring your own prefixes */
                transform: translate(-50%, -50%);
                z-index: z("below");
            }

            button {
                position: absolute;

                &#cls_btn {
                    top: -25px;
                    right: -25px;
                }

                &#nxt_btn {
                    bottom: -40px;
                    right: 0px;
                }

                &#prev_btn {
                    bottom: -40px;
                    left: 0px;
                }
            }
        }
    }

    .lightbox {
        cursor: url("/img/pains/Mouse.png") 64 32, pointer;

        button {
            cursor: url("/img/pains/Mouse.png") 64 32, pointer;
        }

        iframe {
            cursor: url("/img/pains/Mouse.png") 64 32, pointer;
        }
    }

    #renees-canvas {
        cursor: url("/img/pains/Mouse.png") 64 32, pointer;

        button {
            cursor: url("/img/pains/Mouse.png") 64 32, pointer;
        }

        position: relative;

        @include respond-below("mb-l") {
            height: 300vw;
        }
        @include respond-below("s") {
            height: 250vw;
        }
        @include respond-below("m") {
            height: 200vw;
        }
        @include respond-below("l") {
            height: 180vw;
        }
        @include respond-above("l") {
            height: 160vw;
        }

        .title {
            top: 30%;
            left: 10%;
            z-index: z("overlay");
            width: 60%;
            position: absolute;
        }

        .credit {
            top: 60%;
            right: 10%;
            z-index: z("overlay");
            width: 30%;
            position: absolute;
        }

        .collage-item {
            z-index: 0;
            img,
            iframe {
                max-width: 30vw;
                max-height: 30vw;
            }
        }
    }

    .audio-player {
        z-index: z("overlay");
        height: 30vw;
        width: 10vw;
        position: absolute;
        background-size: contain;
        background-repeat: no-repeat;

        &.not-active {
            background-image: url("/img/pains/inactive.png");

            &:hover {
                background-image: url("/img/pains/hover.png");
            }
        }

        &.active {
            background-image: url("/img/pains/active.png");
        }
    }
}
